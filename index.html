<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <title>Ecoviajero: MisiÃ³n Tierra - Enhanced Edition</title>
    <link rel="stylesheet" href="src/styles/main.css">
    <script src="https://unpkg.com/howler@2.2.3/dist/howler.min.js"></script>
</head>
<body>
    <div class="game-container">
        <!-- Header -->
        <div class="game-header">
            <div class="logo">ğŸŒ ECOVIAJERO</div>
            <div class="player-stats">
                <div class="stat-item">
                    <div class="stat-icon">âš¡</div>
                    <span id="player-level">Nivel 1</span>
                </div>
                <div class="stat-item">
                    <div class="stat-icon">ğŸ’</div>
                    <span id="eco-credits">0 Eco-CrÃ©ditos</span>
                </div>
                <div class="stat-item">
                    <div class="stat-icon">ğŸ†</div>
                    <span id="badges-count">0 Insignias</span>
                </div>
                <div class="stat-item">
                    <div class="stat-icon">â¤ï¸</div>
                    <span id="lives-count">3 Vidas</span>
                </div>
            </div>
        </div>

        <!-- Intro -->
        <div class="intro-screen" id="intro-screen">
            <h1 class="game-title">
                ğŸš€ ECOVIAJERO: MISIÃ“N TIERRA
            </h1>
            <p class="game-description">
                En un futuro distÃ³pico, la Tierra estÃ¡ al borde del colapso. Como guardiÃ¡n del planeta,
                debes viajar al pasado para cambiar la historia y salvar nuestro mundo.
            </p>

            <div class="video-container">
                <iframe src="https://www.youtube.com/embed/k14V9tv2ufE?si=uj0w7yoMH4ig62tH" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" referrerpolicy="strict-origin-when-cross-origin" allowfullscreen></iframe>
            </div>

            <h3>Elige tu personaje:</h3>
            <div class="character-select" id="character-select">
                <div class="character-option" data-character="leo">
                    <div class="character-avatar">ğŸ§‘â€ğŸš€</div>
                    <h4>Leo</h4>
                    <p>El Explorador</p>
                    <div class="character-trait">+1 Vida Extra</div>
                </div>
                <div class="character-option" data-character="lia">
                    <div class="character-avatar">ğŸ‘©â€ğŸš€</div>
                    <h4>LÃ­a</h4>
                    <p>La Visionaria</p>
                    <div class="character-trait">+30s en desafÃ­os</div>
                </div>
                <div class="character-option" data-character="nova">
                    <div class="character-avatar">ğŸ¤–</div>
                    <h4>Nova</h4>
                    <p>El Androide</p>
                    <div class="character-trait">+10% Eco-CrÃ©ditos</div>
                </div>
            </div>
            <button class="start-btn" id="start-game" disabled>ğŸŒ± Comenzar MisiÃ³n</button>
        </div>

        <!-- Mapa de mundos -->
        <div class="world-map" id="world-map">
            <button class="btn btn-secondary" id="back-to-home">ğŸ  Regresar a Inicio</button>
            <h2 class="map-title">ğŸ—ºï¸ Mapa Temporal - Refugio Eco-0</h2>
            <div class="worlds-grid">
                <div class="world-card world1" data-world="1">
                    <div class="world-icon">ğŸ‘¤</div>
                    <h3>Huella Consciente</h3>
                    <p>Descubre tu impacto personal en el planeta con sopas de letras ambientales.</p>
                    <div class="world-progress">
                        <div class="world-progress-bar"></div>
                    </div>
                    <div class="world-status">ğŸ”“ Disponible</div>
                </div>
                <div class="world-card world2 locked" data-world="2">
                    <div class="world-icon">ğŸ </div>
                    <h3>Hogar Verde</h3>
                    <p>Completa puzzles deslizantes sobre energÃ­as renovables.</p>
                    <div class="world-progress">
                        <div class="world-progress-bar"></div>
                    </div>
                    <div class="world-status">ğŸ”’ Bloqueado</div>
                </div>
                <div class="world-card world3 locked" data-world="3">
                    <div class="world-icon">ğŸ«</div>
                    <h3>Eco-Comunidad Educativa</h3>
                    <p>Juega memoria con especies en peligro de extinciÃ³n.</p>
                    <div class="world-progress">
                        <div class="world-progress-bar"></div>
                    </div>
                    <div class="world-status">ğŸ”’ Bloqueado</div>
                </div>
                <div class="world-card world4 locked" data-world="4">
                    <div class="world-icon">ğŸ¢</div>
                    <h3>Negocios con PropÃ³sito</h3>
                    <p>Resuelve sopas de letras sobre empresas sostenibles.</p>
                    <div class="world-progress">
                        <div class="world-progress-bar"></div>
                    </div>
                    <div class="world-status">ğŸ”’ Bloqueado</div>
                </div>
                <div class="world-card world5 locked" data-world="5">
                    <div class="world-icon">ğŸ¯</div>
                    <h3>Mundo Final: Crucigrama del Planeta</h3>
                    <p>Completa el crucigrama definitivo para salvar el mundo.</p>
                    <div class="world-progress">
                        <div class="world-progress-bar"></div>
                    </div>
                    <div class="world-status">ğŸ”’ Bloqueado</div>
                </div>
            </div>
        </div>

        <!-- Challenge Screen -->
        <div class="challenge-screen" id="challenge-screen">
            <button class="btn btn-secondary" id="back-to-map">ğŸ—ºï¸ Regresar al Mapa</button>
            <div class="challenge-container">
                <h2 id="world-title">Mundo X</h2>
                <div class="challenge-question" id="challenge-question">DesafÃ­o</div>
                <div class="timer" id="timer">Tiempo: 05:00</div>

                <!-- Word Search -->
                <div class="word-search-container" id="word-search-container">
                    <div class="word-search-grid" id="word-search-grid"></div>
                    <div class="words-list" id="words-list"></div>
                </div>

                <!-- Sliding Puzzle -->
                <div class="puzzle-container" id="puzzle-container">
                    <div class="puzzle-grid" id="puzzle-grid"></div>
                </div>

                <!-- Memory Game -->
                <div class="memory-game-container" id="memory-game-container">
                    <div class="memory-grid" id="memory-grid"></div>
                </div>

                <!-- Crossword -->
                <div class="crossword-container" id="crossword-container">
                    <div class="crossword-grid" id="crossword-grid"></div>
                    <div class="crossword-clues">
                        <div class="clues-section">
                            <h4>Horizontales</h4>
                            <div id="across-clues"></div>
                        </div>
                        <div class="clues-section">
                            <h4>Verticales</h4>
                            <div id="down-clues"></div>
                        </div>
                    </div>
                </div>

                <div class="challenge-buttons">
                    <button class="btn btn-secondary" id="reset-challenge">ğŸ”„ Reiniciar</button>
                    <button class="btn btn-primary" id="submit-challenge" disabled>âœ… Completar</button>
                </div>
            </div>
        </div>

        <!-- Victory Screen -->
        <div class="victory-screen" id="victory-screen">
            <div class="victory-content">
                <div class="victory-icon">ğŸ†</div>
                <h2>Â¡DESAFÃO SUPERADO!</h2>
                <p id="victory-message">Has completado el desafÃ­o con Ã©xito.</p>
                <div id="rewards-container">
                    <div class="reward-item">
                        <div class="reward-icon">ğŸ’</div>
                        <div class="reward-value">+<span id="eco-credits-reward">50</span> Eco-CrÃ©ditos</div>
                    </div>
                    <div class="reward-item">
                        <div class="reward-icon">ğŸ†</div>
                        <div class="reward-value">+<span id="badge-reward">1</span> Insignia</div>
                    </div>
                </div>
                <button class="btn btn-primary" id="continue-btn">Continuar</button>
            </div>
        </div>

        <!-- Game Over -->
        <div class="game-over-screen" id="game-over-screen">
            <div class="game-over-icon">ğŸ˜“</div>
            <h2>Â¡TIEMPO AGOTADO!</h2>
            <p>No has podido completar el desafÃ­o a tiempo.</p>
            <p>Perdiste <span id="lives-lost">1</span> vida.</p>
            <button class="btn btn-primary" id="retry-btn">Intentar de nuevo</button>
            <button class="btn btn-secondary" id="back-to-map-btn">Volver al mapa</button>
        </div>

        <!-- Final Screen -->
        <div class="final-screen" id="final-screen">
            <div class="final-icon">ğŸŒ</div>
            <h2>Â¡MISIÃ“N COMPLETADA!</h2>
            <p>Â¡Gracias a ti, has salvado el futuro del planeta!</p>
            <div class="final-stats">
                <div class="final-stat-item">
                    <div class="final-stat-icon">ğŸ’</div>
                    <div class="final-stat-value">Total Eco-CrÃ©ditos: <span id="final-credits">0</span></div>
                </div>
                <div class="final-stat-item">
                    <div class="final-stat-icon">â±ï¸</div>
                    <div class="final-stat-value">Tiempo Total: <span id="final-time">0</span></div>
                </div>
                <div class="final-stat-item">
                    <div class="final-stat-icon">ğŸ†</div>
                    <div class="final-stat-value">Insignias: <span id="final-badges">0</span></div>
                </div>
            </div>
            <button class="btn btn-primary" id="restart-game">Jugar de nuevo</button>
            <button class="btn btn-secondary" id="share-results">Compartir resultados</button>
        </div>

        <!-- Asistente NOA -->
        <div class="noa-assistant" id="noa-assistant">ğŸ¤–</div>
        <div class="noa-message" id="noa-message">
            <p>Â¡Hola! Soy NOA, tu asistente. Â¿Necesitas ayuda?</p>
        </div>
    </div>

    <script src="src/js/audio.js"></script>
    <script src="src/js/gameData.js"></script>
    <script src="src/js/wordSearch.js"></script>
    <script src="src/js/puzzle.js"></script>
    <script src="src/js/memory.js"></script>
    <script src="src/js/crossword.js"></script>
    <script src="src/js/main.js"></script>
</body>
</html>